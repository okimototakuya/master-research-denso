# Name
主成分分析を用いて、隠れマルコフモデルによる状態推定値の根拠を視覚的に確認するプログラム


# Overview
本プログラムは、隠れマルコフモデルを用いて、児童の登下校時における運動データから行動要素を抽出することに応用される。


# Description
/src/main
- 目的
-- プロダクトコード(ランタイム)を保管する。

- ファイル
-- acceleration_plot3.py
　　時系列運動データ(csv形式)を読み込み、主成分分析した後に隠れマルコフモデルによる状態推定を行うことで、
　　状態推定値の根拠を視覚的に確認するためのプログラム

/src/test
- 目的
-- テストスクリプトを保管する。

- ファイル
-- test_acceleration_plot3.py
　　プロダクトコードのテストを行う。テストの例として、データ読み込み時に意図した形式で読み込めたか確認するものや、
　　データの一定区間での平均値算出が合っているか確認するものなどがある。
-- test_learn_api.py
　　Pythonのライブラリや特殊メソッドのテストを行う。

/src/dataset
- 目的
　-- 児童の登下校時における運動データを保管する。データはcsv形式で保管されている。txt形式について中身は同じである。

- ファイル
　-- LOG_2018\*.csv
　　２人のサンプルについて、登下校時における運動データを記録している。運動データは加速度と角速度で各々３方向ずつ持っている。
　　＊ 運動データの読み方の詳細は下記。
　-- labeledEditedLOG_2018\*.csv
　　上記の運動データについて、児童が交差点に滞在しているか、また滞在している場合はどの交差点に滞在しているかの情報を付加したもの。
　　＊ 運動データの読み方の詳細は下記。
　-- location_2018\*.csv
　　２人のサンプルについて、登下校時における位置データを記録している。現在、研究では運動データを中心に扱っており、位置データに関しては
　　あまり扱っていない。

- サンプルデータの読み方
　-- LOG_2018\*.csv (加速度・角速度情報)
　　--- 加速度(Acceleration)
　　     x鉛直(上が+)
　　     y前後(前が+)
　　     z左右(右が+)
　　--- 角速度(AngularRate)
　　     xヨー   左右回転(右が+)
　　     yロール 側方回転(右手側への回転が+)
　　     zピッチ 前傾後傾(後傾が+)
    # 運動データ
    # LOG_20181219141837_00010533_0021002B401733434E45.csv (サンプルID16)
    # サンプル0(最初)~45000 : 約1時間
    # サンプル45001~90000 : 約1時間(計2時間)
    # サンプル90001~131663(最後) : 約1時間(55分33秒)(計3時間)
    # 7~8万点：約13分(帰り道全部)
　-- location_2018\*.csv (位置情報)
　　時刻 (recvData)
　　刻み幅バラバラ
　　時々１〜数時間とぶ
　　グラフ:緯度経度一定の区間があったので, そこは学校にいる


# Demo
同封の２つのpngファイルを参照のこと。


# Requirement
Anaconda4.10.1のbase環境上で、hmmlearn (PyPI)、seaborn (Anaconda Cloud)を新たに要する。


# Usage
プログラム実行時における各パラメータの値は、import文下の定数群の値によって調整すること。
- プロダクトコードの実行方法: src/mainに移動し、「python acceleration_plot3.py」
- テストスクリプトの実行方法: src/testに移動し、「python test_acceleration_plot3.py」
